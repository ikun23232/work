<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN""http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link type="text/css" rel="stylesheet" href="css/style.css"/>
    <!--[if IE 6]>
    <script src="js/iepng.js" type="text/javascript"></script>
    <script type="text/javascript">
        EvPNG.fix('div, ul, img, li, input, a');
    </script>
    <![endif]-->

    <script type="text/javascript" src="js/jquery-1.8.2.min.js"></script>
    <script type="text/javascript" src="js/menu.js"></script>
    <script src="./js/vue.js"></script>
    <script src="js/axious.js"></script>
    <!-- 引入样式 -->
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <!-- 引入组件库 -->
    <script src="https://unpkg.com/element-ui/lib/index.js"></script>
    <script type="text/javascript" src="js/select.js"></script>


    <title>尤洪</title>
</head>

<body>
<!--Begin Header Begin-->
<div class="soubg">
    <div class="sou">
        <!--Begin 所在收货地区 Begin-->
        <span class="s_city_b">
        	<span class="fl">送货至：</span>
            <span class="s_city">
            	<span>四川</span>
                <div class="s_city_bg">
                	<div class="s_city_t"></div>
                    <div class="s_city_c">
                    	<h2>请选择所在的收货地区</h2>
                        <table border="0" class="c_tab" style="width:235px; margin-top:10px;" cellspacing="0"
                               cellpadding="0">
                          <tr>
                            <th>A</th>
                            <td class="c_h"><span>安徽</span><span>澳门</span></td>
                          </tr>
                          <tr>
                            <th>B</th>
                            <td class="c_h"><span>北京</span></td>
                          </tr>
                          <tr>
                            <th>C</th>
                            <td class="c_h"><span>重庆</span></td>
                          </tr>
                          <tr>
                            <th>F</th>
                            <td class="c_h"><span>福建</span></td>
                          </tr>
                          <tr>
                            <th>G</th>
                            <td class="c_h"><span>广东</span><span>广西</span><span>贵州</span><span>甘肃</span></td>
                          </tr>
                          <tr>
                            <th>H</th>
                            <td class="c_h"><span>河北</span><span>河南</span><span>黑龙江</span><span>海南</span><span>湖北</span><span>湖南</span></td>
                          </tr>
                          <tr>
                            <th>J</th>
                            <td class="c_h"><span>江苏</span><span>吉林</span><span>江西</span></td>
                          </tr>
                          <tr>
                            <th>L</th>
                            <td class="c_h"><span>辽宁</span></td>
                          </tr>
                          <tr>
                            <th>N</th>
                            <td class="c_h"><span>内蒙古</span><span>宁夏</span></td>
                          </tr>
                          <tr>
                            <th>Q</th>
                            <td class="c_h"><span>青海</span></td>
                          </tr>
                          <tr>
                            <th>S</th>
                            <td class="c_h"><span>上海</span><span>山东</span><span>山西</span><span
                                    class="c_check">四川</span><span>陕西</span></td>
                          </tr>
                          <tr>
                            <th>T</th>
                            <td class="c_h"><span>台湾</span><span>天津</span></td>
                          </tr>
                          <tr>
                            <th>X</th>
                            <td class="c_h"><span>西藏</span><span>香港</span><span>新疆</span></td>
                          </tr>
                          <tr>
                            <th>Y</th>
                            <td class="c_h"><span>云南</span></td>
                          </tr>
                          <tr>
                            <th>Z</th>
                            <td class="c_h"><span>浙江</span></td>
                          </tr>
                        </table>
                    </div>
                </div>
            </span>
        </span>
        <!--End 所在收货地区 End-->
        <span class="fr">
        	<span class="fl">你好，请<a href="Login.html">登录</a>&nbsp; <a href="Regist.html" style="color:#ff4e00;">免费注册</a>&nbsp;|&nbsp;<a
                    href="#">我的订单</a>&nbsp;|</span>
        	<span class="ss">
            	<div class="ss_list">
                	<a href="#">收藏夹</a>
                    <div class="ss_list_bg">
                    	<div class="s_city_t"></div>
                        <div class="ss_list_c">
                        	<ul>
                            	<li><a href="#">我的收藏夹</a></li>
                                <li><a href="#">我的收藏夹</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="ss_list">
                	<a href="#">客户服务</a>
                    <div class="ss_list_bg">
                    	<div class="s_city_t"></div>
                        <div class="ss_list_c">
                        	<ul>
                            	<li><a href="#">客户服务</a></li>
                                <li><a href="#">客户服务</a></li>
                                <li><a href="#">客户服务</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="ss_list">
                	<a href="#">网站导航</a>
                    <div class="ss_list_bg">
                    	<div class="s_city_t"></div>
                        <div class="ss_list_c">
                        	<ul>
                            	<li><a href="#">网站导航</a></li>
                                <li><a href="#">网站导航</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </span>
            <span class="fl">|&nbsp;关注我们：</span>
            <span class="s_sh"><a href="#" class="sh1">新浪</a><a href="#" class="sh2">微信</a></span>
            <span class="fr">|&nbsp;<a href="#">手机版&nbsp;<img src="images/s_tel.png" align="absmiddle"/></a></span>
        </span>
    </div>
</div>
<div class="m_top_bg">
    <div class="top">
        <div class="m_logo"><a href="Index.html"><img src="images/logo1.png"/></a></div>
        <div class="m_search">
            <form>
                <input type="text" value="" class="m_ipt"/>
                <input type="submit" value="搜索" class="m_btn"/>
            </form>
            <span class="fl"><a href="#">咖啡</a><a href="#">iphone 6S</a><a href="#">新鲜美食</a><a href="#">蛋糕</a><a
                    href="#">日用品</a><a href="#">连衣裙</a></span>
        </div>
        <div class="i_car">
            <div class="car_t">购物车 [ <span>3</span> ]</div>
            <div class="car_bg">
                <!--Begin 购物车未登录 Begin-->
                <div class="un_login">还未登录！<a href="Login.html" style="color:#ff4e00;">马上登录</a> 查看购物车！
                </div>
                <!--End 购物车未登录 End-->
                <!--Begin 购物车已登录 Begin-->
                <ul class="cars">
                    <li>
                        <div class="img"><a href="#"><img src="images/car1.jpg" width="58" height="58"/></a></div>
                        <div class="name"><a href="#">法颂浪漫梦境50ML 香水女士持久清新淡香 送2ML小样3只</a></div>
                        <div class="price"><font color="#ff4e00">￥399</font> X1</div>
                    </li>
                    <li>
                        <div class="img"><a href="#"><img src="images/car2.jpg" width="58" height="58"/></a></div>
                        <div class="name"><a href="#">香奈儿（Chanel）邂逅活力淡香水50ml</a></div>
                        <div class="price"><font color="#ff4e00">￥399</font> X1</div>
                    </li>
                    <li>
                        <div class="img"><a href="#"><img src="images/car2.jpg" width="58" height="58"/></a></div>
                        <div class="name"><a href="#">香奈儿（Chanel）邂逅活力淡香水50ml</a></div>
                        <div class="price"><font color="#ff4e00">￥399</font> X1</div>
                    </li>
                </ul>
                <div class="price_sum">共计&nbsp; <font color="#ff4e00">￥</font><span>1058</span></div>
                <div class="price_a"><a href="#">去购物车结算</a></div>
                <!--End 购物车已登录 End-->
            </div>
        </div>
    </div>
</div>
<!--End Header End-->
<div class="i_bg bg_color">
    <!--Begin 用户中心 Begin -->
    <div class="m_content">
        <div class="m_left">
            <div class="left_n">管理中心</div>
            <div class="left_m">
                <div class="left_m_t t_bg4">商品中心</div>
                <ul>
                    <li><a href="Member_Product.html">商品显示</a></li>
                    <li><a href="Member_ProductAdd.html">商品添加</a></li>
                </ul>
            </div>
            <div class="left_m">
                <div class="left_m_t t_bg1">订单中心</div>
                <ul>
                    <li><a href="Member_Order.html">我的订单</a></li>
                    <li><a href="Member_Address.html">收货地址</a></li>
                    <li><a href="#">缺货登记</a></li>
                    <li><a href="#">跟踪订单</a></li>
                </ul>
            </div>
            <div class="left_m">
                <div class="left_m_t t_bg2">会员中心</div>
                <ul>
                    <li><a href="Member_User.html">用户信息</a></li>
                    <li><a href="Member_Collect.html">我的收藏</a></li>
                    <li><a href="Member_Msg.html">我的留言</a></li>
                    <li><a href="Member_Links.html">推广链接</a></li>
                    <li><a href="#">我的评论</a></li>
                </ul>
            </div>
            <div class="left_m">
                <div class="left_m_t t_bg3">账户中心</div>
                <ul>
                    <li><a href="Member_Safe.html">账户安全</a></li>
                    <li><a href="Member_Packet.html">我的红包</a></li>
                    <li><a href="Member_Money.html">资金管理</a></li>
                </ul>
            </div>
            <div class="left_m">
                <div class="left_m_t t_bg4">分销中心</div>
                <ul>
                    <li><a href="Member_Member.html">我的会员</a></li>
                    <li><a href="Member_Results.html">我的业绩</a></li>
                    <li><a href="Member_Commission.html">我的佣金</a></li>
                    <li><a href="Member_Cash.html">申请提现</a></li>
                </ul>
            </div>
        </div>
        <div class="m_right" id="m_right">
            <div style="width: 50px;height: 30px"></div>
            <h2 style="font-weight: bolder">&nbsp;&nbsp;&nbsp;产品添加</h2>
            <div style="width: 50px;height: 30px"></div>
            <div style="width: 90%;height: 100%">
                <el-form :model="product" :rules="rules" ref="product" id="product" label-width="100px"
                         class="demo-ruleForm">
                    <el-form-item label="产品名称" prop="name">
                        <el-input v-model="product.name" name="name" style="width: 200px;"></el-input>
                    </el-form-item>
                    <el-form-item label="产品价格" prop="price">
                        <el-input v-model="product.price" name="price" style="width: 200px;"></el-input>
                    </el-form-item>
                    <el-form-item label="产品品牌" prop="brandId">
                        <el-select v-model="product.brandId" name="brandId" placeholder="请选择" @change="blurFrist(1)">
                            <!--                            <el-option label="&#45;&#45;请选择&#45;&#45;" :value="0"></el-option>-->
                            <el-option
                                    v-for="item in brandList"
                                    :key="item.id"
                                    :label="item.name"
                                    :value="item.id">
                            </el-option>
                        </el-select>
                    </el-form-item>
                    <el-form-item label="产品分类" prop="categoryLevelId">
                        <p>
                            <label>一级分类</label>
                            <el-select v-model="fristValue" placeholder="请选择" @change="blurFrist(1)">
                                <el-option label="--请选择--" :value="0"></el-option>
                                <el-option
                                        v-for="item in fristCategoryList"
                                        :key="item.id"
                                        :label="item.name"
                                        :value="item.id">
                                </el-option>
                            </el-select>
                        </p>

                        <p>
                            <label>二级分类</label>
                            <el-select v-model="secondValue" placeholder="请选择" @change="blurSecond(2)"
                                       :disabled="isDisabledSecond">
                                <el-option label="--请选择--" :value="0"></el-option>
                                <el-option
                                        v-for="item in secondCategoryList"
                                        :key="item.id"
                                        :label="item.name"
                                        :value="item.id">
                                </el-option>
                            </el-select>
                        </p>

                        <p>
                            <label>三级分类</label>
                            <el-select v-model="product.categoryLevelId" name="categoryLevelId" placeholder="请选择"
                                       :disabled="isDisabledThrid">
                                <!--                                <el-option label="&#45;&#45;请选择&#45;&#45;" :value="0"></el-option>-->
                                <el-option
                                        v-for="item in thridCategoryList"
                                        :key="item.id"
                                        :label="item.name"
                                        :value="item.id">
                                </el-option>
                            </el-select>
                        </p>
                    </el-form-item>
                    <el-form-item label="产品库存" prop="stock">
                        <el-input v-model="product.stock" name="stock" style="width: 200px;"></el-input>
                    </el-form-item>
                    <el-form-item label="生产时间" required>
                        <el-col :span="11">
                            <el-form-item prop="createTime">
                                <el-date-picker
                                        v-model="product.createTime"
                                        type="datetime"
                                        placeholder="选择生产时间"
                                        name="createTime"
                                ></el-date-picker>
                            </el-form-item>
                        </el-col>
                        <el-col class="line" :span="2">-</el-col>
                    </el-form-item>
                    <el-form-item label="产品描述" prop="description">
                        <el-input type="textarea" v-model="product.description" name="description"></el-input>
                    </el-form-item>
                    <el-form-item label="产品图片" prop="filePath">
                        <el-upload
                                class="avatar-uploader"
                                action="#"
                                :show-file-list="false"
                                :before-upload="beforeAvatarUpload"
                                :http-request="handleHttpSubmit"
                        >
                            <img v-if="imageUrl" width="100px" height="80px" :src="imageUrl" class="avatar" alt=""/>
                            <i v-else class="el-icon-plus avatar-uploader-icon"></i>

                        </el-upload>
<!--                        <el-upload-->
<!--                                v-model="product.filePath"-->
<!--                                action="#"-->
<!--                                :auto-upload="false"-->
<!--                                list-type="picture-card"-->
<!--                                :on-preview="handlePictureCardPreview"-->
<!--                                :on-remove="handleRemove"-->
<!--                                :http-request="handleHttpSubmit"-->
<!--                                show-file-list-->
<!--                        >-->
<!--                            <i class="el-icon-plus"></i>-->
<!--                        </el-upload>-->
<!--                        <el-dialog :visible.sync="dialogVisible">-->
<!--                            <img width="100%" :src="product.filePath" alt="产品图片">-->
<!--                        </el-dialog>-->
                    </el-form-item>
                    <el-form-item>
                        <el-button type="primary" @click="submitForm('product')">立即创建</el-button>
                        <el-button @click="resetForm(product)">重置</el-button>
                    </el-form-item>
                </el-form>
            </div>

        </div>
    </div>
    <!--End 用户中心 End-->
    <!--Begin Footer Begin -->
    <div class="b_btm_bg b_btm_c">
        <div class="b_btm">
            <table border="0" style="width:210px; height:62px; float:left; margin-left:75px; margin-top:30px;"
                   cellspacing="0" cellpadding="0">
                <tr>
                    <td width="72"><img src="images/b1.png" width="62" height="62"/></td>
                    <td><h2>正品保障</h2>正品行货 放心购买</td>
                </tr>
            </table>
            <table border="0" style="width:210px; height:62px; float:left; margin-left:75px; margin-top:30px;"
                   cellspacing="0" cellpadding="0">
                <tr>
                    <td width="72"><img src="images/b2.png" width="62" height="62"/></td>
                    <td><h2>满38包邮</h2>满38包邮 免运费</td>
                </tr>
            </table>
            <table border="0" style="width:210px; height:62px; float:left; margin-left:75px; margin-top:30px;"
                   cellspacing="0" cellpadding="0">
                <tr>
                    <td width="72"><img src="images/b3.png" width="62" height="62"/></td>
                    <td><h2>天天低价</h2>天天低价 畅选无忧</td>
                </tr>
            </table>
            <table border="0" style="width:210px; height:62px; float:left; margin-left:75px; margin-top:30px;"
                   cellspacing="0" cellpadding="0">
                <tr>
                    <td width="72"><img src="images/b4.png" width="62" height="62"/></td>
                    <td><h2>准时送达</h2>收货时间由你做主</td>
                </tr>
            </table>
        </div>
    </div>
    <div class="b_nav">
        <dl>
            <dt><a href="#">新手上路</a></dt>
            <dd><a href="#">售后流程</a></dd>
            <dd><a href="#">购物流程</a></dd>
            <dd><a href="#">订购方式</a></dd>
            <dd><a href="#">隐私声明</a></dd>
            <dd><a href="#">推荐分享说明</a></dd>
        </dl>
        <dl>
            <dt><a href="#">配送与支付</a></dt>
            <dd><a href="#">货到付款区域</a></dd>
            <dd><a href="#">配送支付查询</a></dd>
            <dd><a href="#">支付方式说明</a></dd>
        </dl>
        <dl>
            <dt><a href="#">会员中心</a></dt>
            <dd><a href="#">资金管理</a></dd>
            <dd><a href="#">我的收藏</a></dd>
            <dd><a href="#">我的订单</a></dd>
        </dl>
        <dl>
            <dt><a href="#">服务保证</a></dt>
            <dd><a href="#">退换货原则</a></dd>
            <dd><a href="#">售后服务保证</a></dd>
            <dd><a href="#">产品质量保证</a></dd>
        </dl>
        <dl>
            <dt><a href="#">联系我们</a></dt>
            <dd><a href="#">网站故障报告</a></dd>
            <dd><a href="#">购物咨询</a></dd>
            <dd><a href="#">投诉与建议</a></dd>
        </dl>
        <div class="b_tel_bg">
            <a href="#" class="b_sh1">新浪微博</a>
            <a href="#" class="b_sh2">腾讯微博</a>
            <p>
                服务热线：<br/>
                <span>400-123-4567</span>
            </p>
        </div>
        <div class="b_er">
            <div class="b_er_c"><img src="images/er.gif" width="118" height="118"/></div>
            <img src="images/ss.png"/>
        </div>
    </div>
    <div class="btmbg">
        <div class="btm">
            备案/许可证编号：蜀ICP备12009302号-1-www.dingguagua.com Copyright © 2015-2018 尤洪商城网 All Rights Reserved.
            复制必究 , Technical Support: Dgg Group <br/>
            <img src="images/b_1.gif" width="98" height="33"/><img src="images/b_2.gif" width="98" height="33"/><img
                src="images/b_3.gif" width="98" height="33"/><img src="images/b_4.gif" width="98" height="33"/><img
                src="images/b_5.gif" width="98" height="33"/><img src="images/b_6.gif" width="98" height="33"/>
        </div>
    </div>
    <!--End Footer End -->
</div>

</body>


<!--[if IE 6]>
<script src="//letskillie6.googlecode.com/svn/trunk/2/zh_CN.js"></script>
<![endif]-->
</html>
<script type="module">
    import request from "./commonJS/request.js";
    new Vue({
        el: "#m_right",
        data() {
            //表单校验begin
            var checkname = (rule, value, callback) => {
                if (value === '') {
                    callback(new Error('请输入产品名'))
                } else if (value.length > 10) {
                    callback(new Error('长度在2-10之间'))
                } else if (2 > value.length) {
                    callback(new Error('长度在2-10之间'))
                }
                this.checkSameName();
                if (this.falg.namefalg == false) {
                    callback(new Error("该产品名已存在！"))
                } else {
                    callback();
                }

            }
            var checkprice = (rule, value, callback) => {
                if (value === '') {
                    callback(new Error("请输入价格！"))
                } else if (isNaN(value)) {
                    callback(new Error("请输入数字！"))
                } else if (0 > value) {
                    callback(new Error("不能小于0！"))
                } else if (value.length > 5) {
                    callback(new Error("不能超过五位数"))
                }else {
                    callback()
                }
            }
            var checkCategoryLevelId = (rule, value, callback) => {
                if (value === '') {
                    callback(new Error("请选择！"))
                } else if (value === 0) {
                    callback(new Error("请选择好分类！"))
                }else {
                    callback()
                }
            }
            var checkBrandId = (rule, value, callback) => {
                if (value === '') {
                    callback(new Error("请选择！"))
                } else if (value === '0') {
                    callback(new Error("请选择好品牌！"))
                }else {
                    callback()
                }
            }
            var checkfilePath = (rule, value, callback) => {
                if (value === '') {
                    callback(new Error("请选择文件！"))
                }else {
                    callback()
                }
            }
            return {
                product: {
                    name: '',
                    description: '',
                    createTime: '',
                    price: '',
                    stock: '',
                    categoryLevelId: '',
                    filePath: '',
                    brandId: ''
                },
                fristCategoryList: {},
                fristValue: 0,
                secondCategoryList: {},
                secondValue: 0,
                thridCategoryList: {},
                isDisabledThrid: false,
                isDisabledSecond: false,
                brandList: {},
                dialogVisible: false,
                imageUrl: '',
                falg: {
                    namefalg: false
                },

                rules: {
                    name: [
                        {validator: checkname, trigger: 'blur'},
                    ],
                    description: [
                        {required: true, message: '请填写商品描述', trigger: 'blur'}
                    ],
                    createTime: [
                        // {validator: checkTime, trigger: 'blur'},
                        {type: 'date', required: true, message: '请选择日期', trigger: 'change'}
                    ],
                    price: [
                        {validator: checkprice, trigger: 'blur'},
                    ],
                    stock: [
                        {validator: checkprice, trigger: 'blur'},
                    ],
                    categoryLevelId: [
                        {validator: checkCategoryLevelId, trigger: 'blur'},
                    ],
                    filePath: [
                        {validator: checkfilePath, trigger: 'blur'},
                    ],
                    brandId: [
                        {validator: checkBrandId, trigger: 'blur'},
                    ]
                }
            };
        },
        mounted() {
            this.getFristCategoryList()
            this.getBrandList()
        },
        methods: {
            add(formdata) {
                request.post('/addProduct', formdata).then((respones) => {
                    console.log(respones)
                    if (respones.data.code == "200") {
                        alert("添加成功！")
                        window.location.href="/Member_Product.html"
                    } else {
                        alert("添加失败！")
                    }
                })
            },
            submitForm(product) {
                this.$refs[product].validate((valid) => {
                    if (valid) {
                        const formdata = new FormData(document.getElementById("product"))
                        console.log(formdata)
                        formdata.set("categoryLevelId", this.product.categoryLevelId)
                        formdata.set("brandId", this.product.brandId)
                        formdata.set("picPath", this.product.filePath)
                        this.add(formdata)
                    } else {
                        console.log("error submit!!")
                        return false;
                    }
                })
            },
            checkSameName() {
                request.get("/checkSameName", {
                    params: {
                        name: this.product.name
                    }
                }).then((respones) => {
                    console.log(respones)
                    if (respones.data.code == "200") {
                        this.falg.namefalg = true
                    } else {
                        this.falg.namefalg = false
                    }
                })
            },
            resetForm(product) {
                this.$refs[product].resetFields();
            },
            getFristCategoryList() {
                request.get("/getCategoryList").then((respones) => {
                    console.log(respones)
                    this.fristCategoryList = respones.data.data.data
                })
                this.isDisabledSecond = true
                this.isDisabledThrid = true
            },
            closeisDisbled(num) {
                if (num == 1) {
                    if (this.fristValue == 0) {
                        this.isDisabledSecond = true
                        this.isDisabledThrid = true
                    } else if (this.secondCategoryList != null) {
                        this.isDisabledSecond = false
                        this.isDisabledThrid = true
                    } else {
                        this.isDisabledThrid = true
                    }
                } else {
                    if (this.secondValue == 0) {
                        this.isDisabledThrid = true
                    } else if (this.thridCategoryList != null) {
                        this.isDisabledThrid = false
                    } else {
                        this.isDisabledThrid = true
                    }
                }
            },
            blurFrist(num) {
                this.getSecondCategoryList(this.fristValue)
                this.getThridCategoryList(0)
                this.closeisDisbled(num)
                this.secondValue = 0
                this.thridValue = 0
            },
            blurSecond(num) {
                this.getThridCategoryList(this.secondValue)
                this.closeisDisbled(num)
                this.thridValue = 0
            },
            getSecondCategoryList(id) {
                request.get("/getCategorySecond", {
                    params: {
                        id: id
                    }
                }).then((respones) => {
                    console.log(respones)
                    this.secondCategoryList = respones.data.data
                })
            },
            getThridCategoryList(id) {
                request.get("/getCategoryThrid", {
                    params: {
                        id: id
                    }
                }).then((respones) => {
                    console.log(respones)
                    this.thridCategoryList = respones.data.data
                })
            },
            getBrandList() {
                request.get("/getBrandList").then((respones) => {
                    console.log(respones)
                    this.brandList = respones.data.data
                })
            },
            // handleRemove(file) {
            //     console.log(file);
            // },
            // handlePictureCardPreview(file) {
            //     this.product.filePath = file.url;
            //     this.dialogVisible = true;
            // },
            handleHttpSubmit(req) {
                this.product.filePath = req.file
                this.imageUrl = URL.createObjectURL(req.file);
            },
            beforeAvatarUpload(file) {
                const isJPG = file.type === "image/jpeg";
                const isPNG = file.type === "image/png";
                const isLt2M = file.size / 1024 / 1024 < 2;
                if (!isJPG && !isPNG) {
                    this.$message.error("上传头像图片只能是 JPG或png 格式!");
                    return false;
                }
                if (!isLt2M) {
                    this.$message.error("上传头像图片大小不能超过 2MB!");
                    return false;
                }
                return isJPG || isPNG && isLt2M;
            },
        }
    })
</script>
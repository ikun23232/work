<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.kgc.dao.CategoryDao">
  <select id="getCategoryList" resultType="Category">
      SELECT id, name, parentId, type, iconClass, isDel, createTime  from easybuy_product_category where type=1
  </select>
    <select id="getThreeCategoryByCategoryName" resultType="Category">
        SELECT  id,
                name,
                parentId,
                type,
                iconClass,
                isDel,
                createTime
        FROM easybuy_product_category
        where type = 3
        AND parentid
        IN(
            SELECT id
            FROM easybuy_product_category
            where type= 2
            AND parentId
            IN(
                SELECT id
                FROM easybuy_product_category
                where `name` = #{categoryName}))
    </select>
</mapper>